configure
edit network interface tunnel units tunnel.1
 set ip 
 set mtu 1427
top
set zone untrust network layer3 tunnel.1
set network virtual-router default interface tunnel.1

edit network ike crypto-profiles ike-crypto-profiles ike-profile-1
 set dh-group group2
 set hash sha1
 set lifetime seconds 28800
 set encryption aes-128-cbc
top
edit network ike crypto-profiles ipsec-crypto-profiles ipsec-profile-1
 set esp authentication sha1
 set esp encryption aes-128-cbc
 set dh-group group2
 set lifetime seconds 3600
top
edit network ike gateway ike-gw-1
 set protocol version ikev2
 set protocol ikev2 ike-crypto-profile ike-profile-1
 set protocol ikev2 dpd enable yes interval 10
 set authentication pre-shared-key key 
 set protocol-common nat-traversal enable yes
 set local-address ip 
 set local-address interface ethernet1/1
 set peer-address ip 
top
edit network tunnel ipsec ipsec-tunnel-1
 set auto-key ipsec-crypto-profile ipsec-profile-1
 set auto-key ike-gateway ike-gw-1
 set tunnel-interface tunnel.1
 set anti-replay yes
top
edit network virtual-router default protocol bgp
 set router-id 
 set install-route yes
 set enable yes
 set local-as 
  edit peer-group AWS-BGP
   edit peer aws-bgp-peer-1
    set peer-as 
    set connection-options keep-alive-interval 10
    set connection-options hold-time 30
    set enable yes
    set local-address ip 
    set local-address interface tunnel.1
    set peer-address ip 
    top
top
